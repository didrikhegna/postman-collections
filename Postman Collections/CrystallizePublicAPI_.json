{
  "info": {
    "_postman_id": "9a33b71a-f65a-8849-eed3-0b8148f8bd72",
    "name": "Crystallize Public API ",
    "description": "The public API of Crystallize\n",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "91175683-0a31-2b75-c18f-53d099f5b1ed",
      "name": "Product copy",
      "description": "",
      "item": [
        {
          "_postman_id": "307cf657-3ad0-90fe-d23d-0f7b8184ca42",
          "name": "Create product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\t\n\t\n   \"sku\": \"SPS-243-369\",\n   \"name\": \"witch Doctor\",\n   \"is_virtual\": 1,\n   \"is_available\":true,\n   \"is_subscription\": 1,\n   \"image_list\": [ \"Src\", \"Src\"],\n   \"parent_node_id\": 8,\n\t\"node_id\": 7,\n   \"contenttype_id\": 7,\n   \"is_subscription_only\":1,\n   \"fields\": [\n        {\t\n        \t\"id\":18,\n            \"name\": \"e\",\n            \"data\": \"sdfsdf\",\n            \"field_type\": \"string\",\n            \"contenttype_field_id\": 14\n        }\n    ],\n    \"subscription_plans\": [\n      {\n        \"index\":1,\n        \"id\":6,\n        \"name\": \"firstPlan\",\n        \"initial_period\": 2,\n        \"initial_period_unit\": \"weeks\",\n        \"duration\":3,\n        \"duration_unit\":\"months\",\n        \"renewal_term\": \"{ }\", \n        \"cancellation_term\": \"{ }\"\n       },\n       {\n        \"index\":3,\n        \"id\":7,\n        \"name\": \"secondPlan\",\n        \"initial_period\": 1,\n        \"initial_period_unit\": \"months\",\n        \"duration\":1,\n        \"duration_unit\":\"years\",\n        \"renewal_term\": \"{ }\", \n        \"cancellation_term\": \"{ }\"\n       }\n       \n    ],\n    \n    \"options\":[\n    \n      \n    ],\n    \n   \"variation_dimensions\": [\n       {\n       \"name\": \"Color\",\n       \"values\": [ \"Blue\", \"Orange\"]\n       }\n   ],  \n   \"variations\": [\n       {\n       \"variation_sku\": \"Blue\",\n      \"price_ex_vat\": 0,\n      \"stock_count\": 3620,\n      \"image\": \"src\",\n      \"attributes\": {\n          \"Color\": \"Blue\"\n        },\n        \"variation_plans\":[\n          {  \n            \"index\":1,\n             \"id\":41,\n            \"initial_price\":35333535,\n            \"renewal_price\": 852\n          },\n          {  \n            \"index\":3,\n            \"id\":42,\n            \"initial_price\":342,\n            \"renewal_price\": 7455\n          }\n          ]\n       \n       },\n       {\n       \"variation_sku\": \"Orange\",\n      \"price_ex_vat\": 0,\n      \"stock_count\": 4563,\n      \"image\": \"src\",\n      \"attributes\": {\n          \"Color\": \"Orange\"\n        },\n        \"variation_plans\":[\n          {\n          \n            \"index\":1,\n        \"id\":43,\n            \"initial_price\":123,\n            \"renewal_price\": 500\n          },\n          {  \n            \"index\":3,\n            \"id\":44,\n            \"initial_price\":222,\n            \"renewal_price\": 7455\n          }\n          ]\n       }\n   ]\n}"
            },
            "url": "{{protocol}}://{{url}}:{{port}}/v2/products",
            "description": "Creates a new product in the repository.\nIf the product already exists by the SKU it is gracefully updated."
          },
          "response": []
        },
        {
          "_postman_id": "e2d31efb-abd3-de4f-7332-7d611baec52f",
          "name": "Product fetch",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              },
              {
                "key": "X-Crystallize-Token",
                "value": "c25f9909667ee206ceb0098ec203803a",
                "disabled": true
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/:id",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "SPS-243-369"
                }
              ]
            },
            "description": "Fetches a product from the repository. The parameter can either be the internal ID or the product SKU."
          },
          "response": []
        },
        {
          "_postman_id": "ef85fa94-9824-9beb-4c4b-1df8e9b9e1d0",
          "name": "Product list",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              },
              {
                "key": "X-Crystallize-Token",
                "value": "c25f9909667ee206ceb0098ec203803a",
                "disabled": true
              }
            ],
            "body": {},
            "url": "{{protocol}}://{{url}}:{{port}}/v2/products/"
          },
          "response": []
        },
        {
          "_postman_id": "163c1341-f21b-542c-8225-3380dae39fc8",
          "name": "Categories all Items",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/categories/:id",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                "categories",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "2"
                }
              ]
            },
            "description": "Receives both all products and subcategories of categories"
          },
          "response": []
        },
        {
          "_postman_id": "6538a61e-3dd8-ca46-4a41-15a738ff46dc",
          "name": "Categories Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/categories/:id/products",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                "categories",
                ":id",
                "products"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "20"
                }
              ]
            },
            "description": "Receives all products for this category\n"
          },
          "response": []
        },
        {
          "_postman_id": "9425f595-1fec-4200-4a4f-80d775943096",
          "name": "Categories Subcategories",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "test"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/categories/:id/subcategories",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                "categories",
                ":id",
                "subcategories"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "Receives both all products and subcategories of categories"
          },
          "response": []
        },
        {
          "_postman_id": "de5c4db9-e5a1-a1dc-8096-be64178be13d",
          "name": "Product available",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "test"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/available/:sku",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                "available",
                ":sku"
              ],
              "variable": [
                {
                  "key": "sku",
                  "value": "XT-05-3"
                }
              ]
            },
            "description": "Returns HTTP 200 if the SKU is available."
          },
          "response": []
        },
        {
          "_postman_id": "8da6056a-c7aa-6e2b-a882-424164da5476",
          "name": "Add Variations",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "test"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n   \"sku\": \"BM-1-003\",\n   \"variation_dimensions\": [\n       {\n       \"name\": \"Form\",\n       \"values\": [ \"Print&Digital\"]\n       }\n   ],  \n   \"variations\": [\n       {\n       \"variation_sku\": \"Print&Digital\",\n      \"price_ex_vat\": 999,\n      \"stock_count\": 200,\n      \"image\": \"src\",\n      \"attributes\": {\n          \"Form\": \"Print&Digital\"\n        }\n       \n       }\n   ]\n}"
            },
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/:sku/variations",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                ":sku",
                "variations"
              ],
              "variable": [
                {
                  "key": "sku",
                  "value": ""
                }
              ]
            },
            "description": "Adds variations to product"
          },
          "response": []
        },
        {
          "_postman_id": "db92cba2-a968-b0bf-6f9c-d1664cd045ea",
          "name": "Delete product",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/products/:sku",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "products",
                ":sku"
              ],
              "variable": [
                {
                  "key": "sku",
                  "value": "SPS-243-370"
                }
              ]
            },
            "description": "Deletes a product based on sku"
          },
          "response": []
        },
        {
          "_postman_id": "888df9ed-73e2-977f-e626-3f2a51469488",
          "name": "Fetch coupons",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n\t\"value\": 100,\n\t\"code\": \"s3f5s3f4d4fds4f\",\n\t\"is_onetime_only\": 1\n\t\n}"
            },
            "url": "{{protocol}}://{{url}}:{{port}}/v2/products/coupons",
            "description": "Creates a new Coupon with a Unique code that is comming from input or is auto generated "
          },
          "response": []
        },
        {
          "_postman_id": "be9246c8-bd94-83fc-e6c7-6fc588771cf2",
          "name": "Get coupons",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n\t\"value\": 100,\n\t\"code\": \"s3f5s3f4d4fds4f\",\n\t\"is_onetime_only\": 1\n\t\n}"
            },
            "url": "{{protocol}}://{{url}}:{{port}}/v2/products/coupons",
            "description": "fetcehs all coupons"
          },
          "response": []
        },
        {
          "_postman_id": "2d1418af-f38f-20e1-3164-246c1e4a4360",
          "name": "Validate Cart Items",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var item = {\"subscription_id\": \"15\"}",
                  "item = JSON.stringify(item)",
                  "postman.setEnvironmentVariable('itemData', item)"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "sub_engine"
              },
              {
                "key": "X-Crystallize-Token",
                "value": "c25f9909667ee206ceb0098ec203803a"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n\"items\": [\n     {\n        \"discount_rate\": 0,\n        \"name\": \"Blue\",\n        \"quantity\": 25,\n        \"reference\": \"BP-1-83-Orange\",\n        \"tax_rate\": 0,\n        \"type\": \"shipping_fee\",\n        \"unit_price\": 954\n    },\n    {\n        \"discount_rate\": 0,\n        \"name\": \"Blue\",\n        \"quantity\": 25,\n        \"reference\": \"BP-1-454-44-Orange\",\n        \"tax_rate\": 0,\n        \"type\": \"shipping_fee\",\n        \"unit_price\": 800\n    }\n],\n\"coupon\":{\n  \"code\":\"tood\"\n}\n \n}"
            },
            "url": "http://localhost:8000/v2/products/validate",
            "description": "validates cart items,\npart of crystallize-checkout"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "48264181-8fc9-c59e-dd1d-38eedea429b5",
      "name": "Orders",
      "description": "Using the order Endpoint you can list or create orders from/in our system",
      "item": [
        {
          "_postman_id": "f947ad47-f295-f068-c45f-782562134574",
          "name": "Create Order",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var item = {\"subscription_id\": 15}",
                  "item = JSON.stringify(item)",
                  "postman.setEnvironmentVariable('itemData', item)"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "sub_engine"
              },
              {
                "key": "X-Crystallize-Token",
                "value": "c25f9909667ee206ceb0098ec203803a"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{  \n  \n   \"recurring\":true,\n   \"recurring_token\":null,\n   \"klarna_id\":null,\n   \"payment_method\":\"stripe\",\n   \"stripe_token\": \"s\u00f8ldfldsfdskf\",\n   \"stripe_token_type\": \"card\",\n   \"stripe_customer_id\": \"dsohf\u00f8lsdhfldsflkdshfl\u00f8sh\",\n   \"stripe_subscription_id\":\"\u00d8LH\u00d8LH\u00d8FHL\u00d8HDF\",\n   \"first_name\":\"Toby\",\n   \"last_name\":\"the Molecule\",\n   \"billing_address\":{  \n      \"given_name\":\"Toby\",\n      \"family_name\":\"the Molecule\",\n      \"street_address\":\"Shiny Avenue 23\",\n      \"postal_code\":\"3712\",\n      \"city\":\"Moleculia\",\n      \"country\":\"Crystallize Planet\",\n      \"email\":\"hello@crystallize.digital\",\n      \"phone\":\"11 11 11 11\"\n   },\n   \"shipping_address\":{  \n      \"given_name\":\"Toby\",\n      \"family_name\":\"the Molecule\",\n      \"street_address\":\"Shiny Avenue 23\",\n      \"postal_code\":\"3712\",\n      \"city\":\"Moleculia\",\n      \"country\":\"Crystallize Planet\",\n      \"email\":\"hello@crystallize.digital\",\n      \"phone\":\"11 11 11 11\"\n   },\n   \"cart\":{  \n      \"items\":[  \n         {  \n            \"discount_rate\":0,\n            \"name\":\"Premium Crystal\",\n            \"quantity\":30,\n            \"reference\":\"CR-1-113-small\",\n            \"tax_rate\":0,\n            \"total_price_excluding_tax\":100,\n            \"total_price_including_tax\":100,\n            \"total_tax_amount\":0,\n            \"type\":\"physical\",\n            \"unit_price\":100\n         }\n      ],\n      \"total_price_excluding_tax\":100,\n      \"total_tax_amount\":0,\n      \"total_price_including_tax\":100\n   }\n}"
            },
            "url": "{{protocol}}://{{url}}:{{port}}/v2/orders",
            "description": "Create an order with either Stripe or Klarna data"
          },
          "response": []
        },
        {
          "_postman_id": "bc281b72-a6c9-cc29-3d84-a4d2598101be",
          "name": "Order list",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {},
            "url": "{{protocol}}://{{url}}:{{port}}/v2/orders",
            "description": "Provides a list of all orders in the system"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "b62f35cb-b8f0-f94f-1e2d-ce14dec628d6",
      "name": "Customer",
      "description": "",
      "item": [
        {
          "_postman_id": "25a04d87-3dd5-3ac5-3adf-683b849c1f79",
          "name": "Fetch Customer Inf",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{protocol}}://{{url}}:{{port}}/v2/customers/:customer_id/information",
              "protocol": "{{protocol}}",
              "host": [
                "{{url}}"
              ],
              "port": "{{port}}",
              "path": [
                "v2",
                "customers",
                ":customer_id",
                "information"
              ],
              "variable": [
                {
                  "key": "customer_id",
                  "value": "629"
                }
              ]
            },
            "description": "Fetches info about a customer, his subscriptions and orders"
          },
          "response": []
        },
        {
          "_postman_id": "e3ad7fc9-ddfc-e239-ecd2-8ac55fc37e21",
          "name": "Customer list",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{last_valid_token}}"
              },
              {
                "key": "X-Crystallize-Tenant",
                "value": "{{tenant}}"
              }
            ],
            "body": {},
            "url": "{{protocol}}://{{url}}:{{port}}/v2/customers/",
            "description": "Fetches a list of all customers\n"
          },
          "response": []
        }
      ]
    }
  ]
}